{% extends 'base.html.twig' %}

{% block title %}Liste des partenaires{% endblock %}

{% block body %}
        <div class="row d-flex justify-content-center gx-5 px-sm-5 mt-5">
                <div class="col-12">
                        <div class="bg-light yellow-border rounded my-2 my-sm-3 p-3">
                                <div class="row">
                                        <div class="col-12 col-md-6 mb-3">
                                                <input type="text" id="nameResearch" placeholder="Nom du partenaire"
                                                       class="form-control w-75" onkeyup="filterName()">
                                        </div>
                                        <div class="col-12 col-md-6 mb-3 d-flex justify-content-md-end">
                                                <input type="text" id="idResearch" placeholder="Identifiant du partenaire"
                                                       class="form-control w-75" onkeyup="filterId()">
                                        </div>
                                </div>
                                <div class="row">
                                        <div class="col">
                                                <button type="button" class="btn btn-warning"
                                                        onclick="activeStatus()">Actif</button>
                                                <button type="button" class="btn btn-warning"
                                                        onclick="inactiveStatus()">Inactif</button>
                                                <button type="button" class="btn btn-warning"
                                                        onclick="allStatus()">Tous</button>
                                        </div>
                                </div>

                        </div>
                </div>
        </div>
        <div class="row gx-5 px-sm-5">
                {% for client in clients %}
                        <div class="col-12 col-md-6 client">
                                <div class="bg-light yellow-border rounded my-2 my-sm-3 p-2 h-25 d-flex flex-column
                                justify-content-between">
                                        <div class="row">
                                                <div class="col-4 col-xs-6">
                                                        {% if client.logoUrl %}
                                                                <img src="{{ client.logoUrl }}" alt="logo"
                                                                     width="100" height="100">
                                                        {% else %}
                                                                <img src="{{ asset('images/logo-100x100.png') }}" alt="logo">
                                                        {% endif %}
                                                </div>
                                                <div class="col-8 col-xs-6">
                                                        <div class="mx-2">
                                                                <p class="id mb-1">{{ client.id }}</p>
                                                                <p class="name mb-1">{{ client.name }}</p>
                                                                <p><a href="http://{{ client.url }}"
                                                                        target="_blank" class="mb-1">{{client
                                                                                .url}}</a></p>
                                                        </div>
                                                </div>
                                        </div>
                                        <div class="row">
                                                <span class="d-lg-inline d-none"><p class="my-1 px-3">{{ client.shortDescription[:100] }}
                                                                {% if client.shortDescription | length > 100 %}...{%
                                                                        endif %}
                                                        </p></span>
                                        </div>
                                        <div class="row">
                                                <div class="col-4 d-flex justify-content-start">
                                                        {{ form_start(client.form) }}
                                                        {{ form_row(client.form.active) }}
                                                        {{ form_end(client.form) }}
                                                </div>
                                                <div class="col-8 d-flex justify-content-end">
                                                        <a href="{{ path('app_client_detail', { 'id': client.id })}}"
                                                           role="button"
                                                           class="btn
                                                        btn-warning">GÃ©rer les
                                                                clubs</a>
                                                </div>
                                        </div>
                                </div>
                        </div>
                {% endfor %}
        </div>
        <div class="row d-flex justify-content-center mt-2 mt-sm-3">
                <!-- Emplacement pagination -->
        </div>
{% endblock %}

{% block javascripts %}
        <script src="{{ asset('js/nameFilter.js') }}"></script>
        <script src="{{ asset('js/idFilter.js') }}"></script>
        <script src="{{ asset('js/activeStatus.js') }}"></script>
{% endblock %}
